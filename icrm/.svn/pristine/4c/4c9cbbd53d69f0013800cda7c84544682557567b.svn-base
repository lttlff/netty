<html>
<head>
<meta charset="UTF-8">
<title>小米帐户 - 登录</title>
<style>
/* 新版登录 new login - nl*/
html,body,ul,li,p,h1,div,a,img {
	padding: 0;
	margin: 0;
}

html,body {
	background: #f9f9f9;
	line-height: 1.5;
	color: #333;
	font-size: 12px;
}

body,input {
	font-family: "Hiragino Sans GB", "Microsoft YaHei",
		"WenQuanYi Micro Hei", sans-serif;
}

a,label,:focus {
	outline: 0 none;
}

a,img {
	border: 0 none;
}

a {
	text-decoration: none;
}

@media screen and (-ms-high-contrast: active) , ( -ms-high-contrast :
	none) {
	a {
		background-color: transparent;
	}
}

html,body {
	height: 100%;
	width: 100%;
}

.layout {
	min-height: 720px;
	height: 100%;
	_height: 720px;
	position: relative;
}

.nl-content {
	text-align: center;
	width: 100%;
	position: absolute;
	top: 50%;
	left: 0;
	margin-top: -317px;
} /* 这里默认渲染了634px高 */
.nl-logo-area {
	margin-bottom: 50px;
	height: 82px;
}

.nl-login-title {
	font-size: 40px;
	margin-bottom: 10px;
	color: #000;
}

.nl-login-intro {
	color: #8d8d8d;
	font-size: 14px;
	margin-bottom: 30px;
}

.nl-login-intro a {
	color: #8d8d8d;
}

.nl-login-intro a:hover {
	color: #ff7e00;
	text-decoration: none;
}

.nl-phone-tip {
	width: 324px;
	margin: 0 auto;
	text-align: left;
	height: 36px;
}

.nl-footer {
	text-align: center;
	padding-bottom: 20px;
	position: absolute;
	bottom: 0;
	left: 0;
	width: 100%;
}

.nl-f-nav {
	margin-bottom: 10px;
}

.nl-f-nav a {
	display: inline-block;
	*zoom: 1;
	*display: inline;
	color: #919191;
	padding: 0 6px;
	line-height: 1.2;
}

.nl-f-nav a:hover {
	color: #545454;
	font-weight: bold;
}

.nl-f-copyright {
	color: #999;
}

.zh_CN .zh-cn,.zh_TW .zh-tw,.en .zh-en {
	color: #545454;
	font-weight: bold;
}

.zh_TW .nl-phone-tip {
	text-align: center;
}

.minilogin-frame {
	margin-left: 100px;
}
/*窗口最小化模式*/
.mini-window .layout {
	width: 500px;
	height: 500px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin-top: -245px;
	margin-left: -250px;
	min-height: 500px;
}

.mini-window .nl-content {
	position: static;
	margin: 0;
	overflow: hidden;
}

.mini-window .nl-footer {
	padding: 0;
	position: static;
}

.mini-window .nl-login-intro {
	margin: 5px 0;
}

.mini-window .nl-logo-area {
	margin: 0;
	height: auto
}

.mini-window .nl-footer,.mini-window .nl-phone-tip {
	display: none
}

.mini-window .nl-login-title {
	font-size: 28px;
	margin-bottom: 0;
	margin-top: 10px;
}

.mini-window .minilogin-frame {
	margin-left: 50px
}
/*定制显示强制隐藏显示*/
.display-custom-hide {
	display: none !important;
}

.display-custom-show-block {
	display: block !important;
}

.display-custom-show-inline {
	display: inline !important;
}

.display-custom-show-inline-block {
	display: inline-block !important;
}
</style>
</head>

<body class=" zh_CN">
	<div class="layout">
		<div class="nl-content">
			<div id="custom_display_1" class="nl-logo-area">
				<a href="javascript:void(0)"><img width="60"
					src="/static/img/passport/nl-logo.png"></a>
			</div>
			<h1 id="custom_display_256" class="nl-login-title">一个帐号，玩转所有小米服务！</h1>
			<div id="custom_display_2">
				<p class="nl-login-intro">
					<a target="_blank" href="http://www.xiaomi.com/">小米手机</a>，<a
						target="_blank" href="http://www.xiaomi.com/index.php">小米网</a>，<a
						target="_blank" href="http://www.miui.com/">MIUI米柚</a>，<a
						target="_blank" href="http://www.duokan.com/">多看阅读</a>，<a
						target="_blank" href="http://www.miliao.com/">米聊</a>
				</p>
				<p class="nl-phone-tip">&nbsp;</p>
			</div>
			<div class="nl-frame-container">
				<iframe width="500" scrolling="0" height="340" frameborder="0"
					style="background: transparent;" allowtransparency="true"
					class="minilogin-frame" id="miniLoginFrame"
					src="/pass/static/v5login.html?inframe=true&amp;onetimeEncode=true&amp;_locale=zh_CN&amp;callback=https%3A%2F%2Faccount.xiaomi.com&amp;sid=passport&amp;qs=%253Fsid%253Dpassport&amp;sign=KKkRvCpZoDC%2BgLdeyOsdMhwV0Xg%3D&amp;hidden=&amp;_customDisplay=0&amp;_dc=1397525371239"></iframe>
			</div>
		</div>
		<div id="custom_display_4" class="nl-footer">
			<div id="nl_f_nav" class="nl-f-nav">
				<a class="zh-cn" onclick="change_lang('zh_CN'); return false;"
					href="javascript:void(0);">简体</a>| <a class="zh-tw"
					onclick="change_lang('zh_TW'); return false;"
					href="javascript:void(0);">繁体</a>| <a class="zh-en"
					onclick="change_lang('en'); return false;"
					href="javascript:void(0);">English</a>| <a target="_blank"
					href="http://static.account.xiaomi.com/html/faq/faqList.html">常见问题</a>
			</div>
			<p class="nl-f-copyright">小米公司版权所有-京ICP备10046444-京公网安备1101080212535</p>
		</div>
	</div>

	<script>
function getParam(paramName) {
  var paramValue = "", isFound = false;

  if (location.search.length === 0) {
    return paramValue;
  }

  if (location.search.indexOf("?") == 0 &amp;&amp; location.search.indexOf("=") &gt; 1) {
    arrSource = location.search.substring(1, location.search.length).split("&amp;");
    i = 0;
    while (i &lt; arrSource.length &amp;&amp; !isFound) {
      if (arrSource[i].indexOf("=") &gt; 0) {
        if (arrSource[i].split("=")[0].toLowerCase() == paramName.toLowerCase()) {
            paramValue = arrSource[i].split("=")[1];
            isFound = true;
        }
      }
      i++;
    }
  }
  return paramValue;
};
/*DOM Tools*/
function domShow(el){
  if(el &amp;&amp; el.nodeType===1 &amp;&amp; el.style.display==='none'){
    var tmp=el._oldDisplay||"";
    el.style.display=tmp;
  }
}
function domHide(el){
  if(el &amp;&amp; el.nodeType===1 &amp;&amp; el.style.display!=="none"){
    el._oldDisplay=el.style.display||"";
    el.style.display="none";
  }
}
/*begin of custom display*/
var customDisplayByParam=(function(){
  var CUSTOM_DISPLAY_BIT=8;
  var showCustomDisplay=function(i,tmp){
    var el=document.getElementById("custom_display_"+tmp);
    !!tmp ? domHide( el ) : domShow(el);
  }
  return function(param){
    if(typeof param==='number'){
      for(var i=0;i&lt;CUSTOM_DISPLAY_BIT;i++){
        showCustomDisplay(i, (param &amp; (1&lt;&lt;i)) );
      }
    }
  }
})();
customDisplayByParam( parseInt(getParam("_customDisplay"))||0 );
/*end of custom displya*/
function hasClass(el,cls){
    ocls=el.className.split(/\s+/);
    ocls.unshift("0");
    ocls.push("0");
    return ocls.join(",").indexOf(","+cls+",") &gt; -1
}
function removeClass(el,cls){
  ocls=el.className.split(/\s+/);
  for(var i=0;i&lt;ocls.length;i++){
    if(ocls[i]===cls){
      ocls.splice(i,1);break;
    }
  }
  el.className=ocls.join(" ");
}
function addClass(el,cls){
  var ocls=el.className;
  if(ocls){
    if(!hasClass(el,cls)){
      el.className+=' '+cls;
    }
  }else{
    el.className=cls;
  }
}
function setMiniWindow(mini){
  var miniMode=window._windowMiniMode;
  if(mini){
    !miniMode &amp;&amp; addClass(document.body,'mini-window');
    window._windowMiniMode=1;
  }else{
    miniMode &amp;&amp; removeClass(document.body,'mini-window');
    window._windowMiniMode=0;
  }
}
var openWin=location.search.indexOf("mini=true")&gt;-1;
function resizeWindow(){
  var width=window.innerWidth;
  if(typeof width!=='number'){
    if(document.compatMode=='CSS1Compat'){
      width=document.documentElement.clientWidth;
    }else{
      width=document.body.clientWidth;
    }
  }
  if(width&lt;610){
    setMiniWindow(true)
  }else{
    setMiniWindow(false);
  }
}
if(openWin){
  setMiniWindow(true);
}else{
  resizeWindow();
  window.onresize=function(){
    if(window._resizetimeTc){
      clearTimeout(window._resizetimeTc);
    }
    window._resizetimeTc=setTimeout(function(){
      resizeWindow();
    },20);
  }
}
var Environment=(function(){
  var hostname=location.hostname;
  if( hostname.indexOf("onebox")&gt;-1 ){
    return 'onebox';
  }else if(hostname.indexOf("preview")&gt;-1){
    return 'preview';
  }else{
    return 'release';
  }
})();
var pass_env="https://account.xiaomi.com/pass/serviceLogin";
var hide_third=getParam("hide_third");
var iframeSrc = Environment=='onebox'?"/pass/static/v5login_onebox.html?inframe=true&amp;onetimeEncode=true": "/pass/static/v5login.html?inframe=true&amp;onetimeEncode=true";
if(hide_third){ 
  iframeSrc +="&amp;hide_third=true";
}
var callback = encodeURIComponent("https://account.xiaomi.com");
var sid = encodeURIComponent("passport");
var qs = encodeURIComponent("%3Fsid%3Dpassport");
var hidden = encodeURIComponent("");
var sign = encodeURIComponent("KKkRvCpZoDC+gLdeyOsdMhwV0Xg=");
var _customDisplay=parseInt(getParam("_customDisplay"),10)||0;

function change_lang(lang){
  var url = window.location.href;
  var reg = new RegExp("(^|&amp;)_locale=([^&amp;]*)(&amp;|$)");
  var r = window.location.search.substr(1).match(reg);
  if (r!=null){
    var locale = unescape(r[2]);
    url = url.replace("_locale="+locale, "_locale="+lang);
  }else{
    if( /\?/.test(url) ){
      url += "&amp;_locale="+lang;
    }else{
      url += "?_locale="+lang;
    }
  }
  window.location.href=url.replace("serviceLoginAuth2","serviceLogin");
}

String.prototype.Trim = function() {
  return this.replace(/^\s+/g, "").replace(/\s+$/g, "");
};


function getCookie(key) {
  var cookie = document.cookie;
  var cookieArray = cookie.split(';');
  var val = "";
  for (var i = 0; i &lt; cookieArray.length; i++) {
      if (cookieArray[i].Trim().substr(0, key.length) == key) {
    val = cookieArray[i].Trim().substr(key.length + 1);
    break;
      }
  }
  return unescape(val);
};


  var url = window.location.href;
  var matched = url.match(/\b(_locale=en)|(_locale=zh_TW)|(_locale=zh_CN)\b/);
  iframeSrc = iframeSrc + (matched ? "&amp;" + matched[0] : ""); 
  var cookieLocale = getCookie("uLocale");
  if( cookieLocale == 'zh_CN' || /_locale=zh_CN/.test(url) ){
    document.body.className += ' zh_CN';
  }
  if( cookieLocale == 'zh_TW' || /_locale=zh_TW/.test(url) ){
    document.body.className += ' zh_TW';
  }
  if( cookieLocale == 'en' || /_locale=en/.test(url) ){
    document.body.className += ' en';
  }
  if (cookieLocale &amp;&amp; !matched) {
   iframeSrc = iframeSrc + "&amp;_locale=" + cookieLocale;   
  } 
  var queryPart =  "&amp;callback=" + callback + "&amp;sid=" + sid + "&amp;qs=" + qs + "&amp;sign=" + sign + "&amp;hidden=" + hidden+"&amp;_customDisplay="+_customDisplay;
  iframeSrc = iframeSrc + queryPart+"&amp;_dc="+(new Date().getTime());
  document.getElementById("miniLoginFrame").src = iframeSrc;


</script>


</body>
</html>